#!/usr/bin/env bash

# Select the next keyboard layout from the list [us, ua] or [us, us intl].

USE_CYRILLIC="$1"

layout=$(setxkbmap -query | awk '/layout/{print $2}')
variant=$(setxkbmap -query | awk '/variant/{print $2}')
case $layout in
  us)
    if [ -z "$USE_CYRILLIC" ]; then
      case $variant in
        intl)
          setxkbmap us
          ;;
        *)
          setxkbmap -layout us -variant intl
          ;;
      esac
    else
      setxkbmap ua
    fi
    ;;
  *)
    setxkbmap us
    ;;
esac
